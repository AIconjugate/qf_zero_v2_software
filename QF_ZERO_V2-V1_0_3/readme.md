
此项目为QF ZERO的迭代版本，新增了一些更好用更实用的传感器，也删减了一些意义不大的地方

启凡科创开源官方Q群：216066270

动下小手点个赞吧~

注意事项：当前版本的烧录资料包配置一般仅针对当前版本，不用版本的烧录参数可能会有区别并不通用，以版本内资料为准

日志：

2023-5-16 固件V1.0.3
		ESP32-S3：
            	修改：	步数显示改为电池电压显示
            	优化：	屏幕刷新率由90降低至77帧，降低显示竖纹提升观感
                  	记忆功德数、屏幕亮度、表盘界面，息屏唤醒后保留原有状态
				指针表盘中心点对齐优化
		HC32：
			无

2023-5-4 固件V1.0.2
            新增：赛博修仙-->数字表盘左滑进入，随时随地积攒功德
            POP猫-->指针表盘右滑进入，随时随地阿巴阿巴
            修改：指针表盘的圆弧震动测试关闭，修仙和阿巴阿巴均可有震动反馈
            优化：屏幕刷新率由60帧提升到90帧，纵享新丝滑
                  息屏唤醒时间打骨折，由原来的1.7s左右优化到200ms以内

2023-4-26 固件V1.0.1
	新增：HC32的串口全双工中断死机问题解决，可以稳定当手表日常佩戴看时间使用了，目前测试暂时再未出现过死机

2023-4-23 固件V1.0.0
	新增：	ESP32S3-手表显示时间功能固件，适配LVGL官方手表demo为240*240分辨率，界面适配为楷体中文，目前仅可用于看时间和电池电量，其余功能暂未适配
		HC32-电源管理、RTC时钟、IIC设备扫描
		屏幕亮度、振动器操作，数字表盘左下角arc更改亮度，指针表盘arc设置震动
	
	特性：超低功耗，充满电正常使用看时间，预计最少可用2个月

	已知问题：有一定概率HC32硬件死机，它的串口功能暂未做半双工适配，死机后用串口助手重启HC32即可

下载步骤：
	如没装过CH343的驱动，需要安装一下，只装了CH340的驱动仅能识别COM口，下载会报错，驱动在资料包里有
	ESP32S3：按照ESP32S3的固件包内的配置步骤使用download tool进行烧录下载，烧录结束后点击stop后使用提供的串口助手按照提示重启一下ESP32S3
	HC32：按照配置内容使用XHSC下载器选中固件HEX进行下载即可，烧录结束后使用提供的串口助手按照提示重启一下HC32

配置步骤：（发送指令和扫描设备期间手需要一直触摸屏幕保持手表常亮）
	配置时间：通过串口助手发送格式为：如(time230423113605)，括号为英文状态下的，time指设置时间，23为23年，04为四月，23日，11时，36分，05秒，每一		个参数固定占2位，不足补0，发送完后时间立即更新至显示，日期需息屏重新唤醒后才会更新
	扫描IIC设备：发送指令(scan),括号为英文状态下的，通过扫描设备可以知道磁力计、imu、气压计、库仑计焊接是否存在问题


关于外壳：

    1）23-4-17更新了V1.1版本外壳，优化了按键部分，解决了V1.0版本的偶尔回弹卡顿不舒服的问题

    2）一个比较好的打印方案：采用黑色类尼龙树脂打印，实测效果非常好，完全解决了刚性树脂易碎、起白色痕迹的缺点，打印出来只需要对支撑点进行简单打磨即可，无需精细打磨和喷漆等操作就能获得一个非常好的效果，后盖安装也完全ok不再怕卡扣碎裂，缺点就是类尼龙树脂比较贵（50元250克），为了这个外壳我甚至买了台光固化。。。


关于硬件：

    1）新增了V2.2的PCB和原理图，这些小细节的优化会让体验提升很多，发现了HC32L110的一个硬件bug：串口开启中断的情况下，全双工发数据非常容易触发死机，这点就非常难受了，软件上只能做半双工用了

    2）程序烧录：按住按键即可烧录副处理器HC32（不按是烧录ESP32S3）

    3）屏幕使用的型号是 8080接口 带TP IF10，就是触摸盖板狗啃的一样那款，搜1.28寸触摸就行

    4）使用的电池是R40350V 435mah 3.85V圆形电池

    5）使用的表带：插针式20mm宽度表带全通用

    6）使用的振动器：0820  直径8mm，厚度2mm的扁平振动器

    7）焊接注意要点：①所有元器件焊接完成后再焊振动器，振动器上面贴的双面胶和海绵都要刮掉减小厚度，②中龟按键平整的一面向着屏幕，四个脚悬空用锡焊到焊盘上，③在焊接按键和振动器时，将PCB和元件放在平整的平面上压紧焊以保证接触屏幕的一面平整

    7）组装流程：①先装按键，②屏幕先斜着放入排线一侧，然后平缓装好，③主板贴屏幕那一面，所有裸露的焊盘必须清理得非常平整没有锡的毛刺，然后使用油性马克笔或其他带有一定绝缘作用的笔涂黑焊点，有条件的可以上阻焊油，但是一定要确保平整不会抵住屏幕，④主板先对准按键的凹槽放入按键那里，然后右边C口那里用力按进去就行，注意屏幕排线，⑤扣上屏幕排线，⑥电池有口的一面刚好放C口那里，把两根电源线并排理好，高度弄平不然会抵住后盖，⑦后盖先对齐屏幕排线那一侧的两个卡扣推进去卡住，然后用小拇指指甲等比较软的东西依次把另外两个卡扣卡进去



硬件资源：

    1）ESP32-S3 为核心主控，负责复杂的运算与交互处理，默认为8M Psram + 32M flash组合

    2）HC32L110C6UA为副处理器，负责处理低功耗任务

    3）LSM6DSL 六轴姿态传感器，低功耗与多功能并存

    4）QMC5883L 三轴磁力计，配合LSM6DSL可实现九轴姿态融合

    5）BMP280 气压计，可实现海拔高度和环境温度的测量

    6）CW2015 库仑计，精确统计电池电量

    7）带电容触摸屏的1.28寸240*240分辨率圆形屏幕

    8）振动器

    9）3.85V锂电池充放电管理、保护

  

设计特色：

    1）主、副处理器均可由充电的TYPE-C接口烧录程序，不用反复更改任何硬件，一口多用

    2）超低待机功耗，关机状态下可低至14uA，不开启运动监测功能待机功耗在30uA附近

    3）接近商品级的外观设计

  

关于软件：

    1）为防止某些投机者倒卖，不会开源源码，后续功能完善的固件也会加入设备认证功能，仅提供bin固件

    2）此项目设计目标是作为智能家居或遥控无人机等的体感遥控器或触屏中央控制器，这些东西会慢慢部署，这只是我个人的需求

    3）此手表可以作为学习开发智能手表的开发板使用

    4）有想法的同学可以联系我参与进固件的研发中



一些效果图：


